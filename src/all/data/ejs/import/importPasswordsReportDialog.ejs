<?
var success = true;
if(this.errorsList.length > 0) {
    success = false;
}
?>
<div class="dialog-wrapper">
    <div class="dialog report">
        <div class="dialog-header">
            <? if (success) { ?>
            <h2>Success!</h2>
            <? } else { ?>
            <h2>Something went wrong!</h2>
            <? } ?>
            <a class="dialog-close" role="button">
                <i class="fa fa-close"></i><span class="visuallyhidden">close</span>
            </a>

        </div>
        <div class="js_dialog_content dialog-content">

            <form class="tab-content ready selected" id="js_rs_import_report">
                <div class="form-content">
                    <? if (success) { ?>
                    <p><strong><?= this.successList.length ?> passwords have been imported successfully.</strong></p>
                    <? } else { ?>
                    <p class="error inline-error">There was an issue when importing the passwords:</p>
                    <? } ?>
                    <? if (!success) { ?>
                    <p>
                        <strong><?= this.successList.length ?> out of <?= this.resources.length ?></strong> passwords have been imported.
                    </p>
                    <? } ?>
                    <!-- <p>You can find the newly imported passwords under the tag: 'import-kdbx-201293494'.</p> -->
                    <? if (!success) { ?>
                    <div class="accordion error-details closed">
                        <div class="accordion-header">
                            <a role="link">Errors details</a>
                        </div>
                        <div class="accordion-content hidden" style="display: none;">
                            <div class="input text">
                                <label for="js_field_debug" class="visuallyhidden">Errors details</label>
                                <textarea id="js_field_debug"><?= JSON.stringify(this.errorsList, null, 4); ?></textarea>
                            </div>
                        </div>
                    </div>
                    <? } ?>
                </div>
                <div class="submit-wrapper clearfix">
                    <input class="button primary" value="Ok" type="submit">
                </div>
            </form>
        </div>
    </div>
</div>